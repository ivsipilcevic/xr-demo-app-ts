!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("JwPlayerPlugin",[],t):"object"==typeof exports?exports.JwPlayerPlugin=t():e.JwPlayerPlugin=t()}(self,(function(){return(()=>{"use strict";var e={d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{default:()=>o});const o=function(e,t){console.log("Installing JW Player plugin...");var o=t.player;if(!o)return e.emit("player.error",{type:"fatal",message:"missing player paramter"}),o;var n=parseInt(o.version,10),r=o.getContainer();function a(){n<=7?(o.setControls(!1),o.setControls(!0)):(o.setControls(!0),r.classList.remove("jw-flag-user-inactive"))}function f(){o.setControls()}function i(t){e.emit("player.state",{state:t})}function s(){i(o.getState())}function l(){i("playing")}function p(){i("paused")}function u(){i("buffering")}function y(){i("stopped")}function c(){console.log("JW Player is ready..."),e.emit("player.ready",{playerContainer:document.getElementById(o.id)})}function m(t){e.emit("player.error",{type:"warning",message:t})}function d(t){if(e.emit("player.meta",t),t&&t.metadata&&(t.metadata.COMM||t.metadata.TXXX))try{var o=t.metadata.COMM||t.metadata.TXXX;"string"!=typeof o&&(o=o.eng),"string"==typeof o&&(o=JSON.parse(o)),e.emit("player.time",{timecode:parseInt(o.ut,10)})}catch(e){console.error(t,e)}}function g(t){e.emit("player.seek",t)}function b(t){e.emit("player.position",t)}return e.on("view.mouseenter",a),e.on("bridge.stage",f),e.on("bridge.ready",s),o.on("play",l),o.on("pause",p),o.on("buffer",u),o.on("complete",y),o.getConfig().viewable?c():o.on("ready",c),o.on("error",m),o.on("meta",d),o.on("seek",g),o.on("time",b),e.on("destroy",(function t(){e.off("bridge.ready",s),e.off("bridge.stage",f),e.off("destroy",t),e.off("view.mouseenter",a),o.off("buffer",u),o.off("complete",y),o.off("error",m),o.off("meta",d),o.off("pause",p),o.off("play",l),o.off("ready",c),o.off("seek",g),o.off("time",b)})),o};return t=t.default})()}));