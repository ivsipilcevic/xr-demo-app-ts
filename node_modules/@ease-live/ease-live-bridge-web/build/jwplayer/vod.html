<!doctype html><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><link rel="stylesheet" href="../example.css"><title>JW Player with Ease Live</title><script src="../EaseLive.13bd0dea.js"></script><script src="../BitMovinPlugin.13bd0dea.js"></script><script src="../JwPlayerPlugin.13bd0dea.js"></script><script src="../FlowplayerPlugin.13bd0dea.js"></script><script src="../HlsJSPlugin.13bd0dea.js"></script><script src="../FakeTimePlugin.13bd0dea.js"></script></head><body onload="init()"><script src="jwplayer.js"></script><script src="jw_init.js"></script><script>jwplayer.key="tKRsIZg7TXaSRLnlgpFXsIZCewZNadAvVmPHG5Et624=";</script><style>.xcomponent {
				position: absolute;
				top: 0;
			}
			#buttonContainer {
				position: relative;
				width: 400px;
				padding: 10px;
				border: 5px solid black;
				float: right;
			}</style><script>var easeLive;
		function init() {
			var sources = getSources();

			window.player = jw_init(sources.videoUrl);

			easeLive = new EaseLive({
				url: sources.webappUrl,
				params: {
					server: sources.serverUrl,
					programId: sources.programId
				},
				logLevel: 'error',
				playerPlugin: [
					JwPlayerPlugin,
					{
 						player: window.player
					}
				]
			});

			easeLive.use(FakeTimePlugin, {
				shadowPlayer: true,
				startTimecode: parseInt(sources.programStart)
			});

			easeLive.init();

			easeLive.on('bridge.ready', function() {
				console.log('bridge is ready')
			});

			easeLive.on('bridge.stage', function(e) {
				console.log('stage clicked', e);
			});

			easeLive.on('app.*', function(e) {
				console.log('app event', this.event, e);
			});

			easeLive.on('player.time', function(e) {
				e.formatted = new Date(e.timecode)
				window.output.innerHTML = JSON.stringify(e)
			});

			easeLive.on('*.error', function(e) {
				window.error.innerHTML = JSON.stringify(e)
			});
		}

		function updateSettings() {
			var sources = getInputSources();
			var queryString = Object.keys(sources).map(function(key) {
				return key + '=' + encodeURIComponent(sources[key])
			}).join('&');
			var baseUrl = window.location.href.split('?')[0];
			window.location.href = baseUrl + '?' + queryString;
		}

		function resetSettings() {
			location.href = window.location.href.split('?')[0];
		}

		function getInputSources() {
			return {
				videoUrl: document.getElementById('videoUrl').value,
				webappUrl: document.getElementById('webappUrl').value,
				serverUrl: document.getElementById('serverUrl').value,
				programId: document.getElementById('programId').value,
				programStart: document.getElementById('programStart').value
			};
		}

		function setInputSources(sources) {
			document.getElementById('videoUrl').value = sources.videoUrl;
			document.getElementById('webappUrl').value = sources.webappUrl;
			document.getElementById('serverUrl').value = sources.serverUrl;
			document.getElementById('programId').value = sources.programId;
			document.getElementById('programStart').value = sources.programStart;
		}

		function getSources() {
			var params = getParams(location.href);
			var sources = {
				videoUrl: params['videoUrl'] ? decodeURIComponent(params['videoUrl']) : 'https://s3-eu-west-1.amazonaws.com/vod-assets-ireland-sixty-no/dev/hls_vod_with_id3_timecodes/prog_index.m3u8',
				webappUrl: params['webappUrl'] ? decodeURIComponent(params['webappUrl']) : 'https://cdn.assets.easelive.tv/b46a/websdkdemo/index.html',
				serverUrl: params['serverUrl'] ? decodeURIComponent(params['serverUrl']) : 'demo.cloud.easelive.tv',
				programId: params['programId'] ? decodeURIComponent(params['programId']) : 'sixty-dev-test',
				programStart: params['programStart'] ? decodeURIComponent(params['programStart']) : 0,
			};
			setInputSources(sources);
			return sources;
		}

		function getParams(url) {
			var params = {};
			var parser = document.createElement('a');
			parser.href = url;
			var query = parser.search.substring(1);
			var vars = query.split('&');
			for (var i = 0; i < vars.length; i++) {
				var pair = vars[i].split('=');
				params[pair[0]] = decodeURIComponent(pair[1]);
			}
			return params;
		};

		function configureUrlParams() {

		}

		function fs() {
			window.player.setFullscreen(true);
		}</script><div id="source"><h1>JW Player: VOD with simulated timecodes</h1><div><span>Video source URL:</span> <input id="videoUrl" value=""></div><div><span>Web app URL:</span> <input id="webappUrl" value=""></div><div><span>Ease Live URL:</span> <input id="serverUrl" value=""></div><div><span>Program ID:</span> <input id="programId" value=""></div><div><span>Video start time (unix):</span> <input id="programStart" value=""></div><button onclick="updateSettings()">Update settings</button> <button onclick="resetSettings()">Reset values</button></div><div id="logging">Logging output: <span id="output"></span> <span id="error"></span></div><div id="playerContainerJw"><div id="player"></div></div><div id="buttons"><button id="fullscreen" onclick="fs()">Full screen</button></div><div id="back"><a href="../index.html">Back to examples</a></div></body></html>