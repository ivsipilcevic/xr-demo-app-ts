<!doctype html><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><link rel="stylesheet" href="../example.css"><title>JW Player with Ease Live</title><script src="../EaseLive.13bd0dea.js"></script><script src="../BitMovinPlugin.13bd0dea.js"></script><script src="../JwPlayerPlugin.13bd0dea.js"></script><script src="../FlowplayerPlugin.13bd0dea.js"></script><script src="../HlsJSPlugin.13bd0dea.js"></script><script src="../FakeTimePlugin.13bd0dea.js"></script></head><body onload="init()"><script src="jwplayer.js"></script><script src="jw_init.js"></script><script>jwplayer.key="tKRsIZg7TXaSRLnlgpFXsIZCewZNadAvVmPHG5Et624=";</script><style>.xcomponent {
				position: absolute;
				top: 0;
			}
			#buttonContainer {
				position: relative;
				width: 400px;
				padding: 10px;
				border: 5px solid black;
				float: right;
			}

			/* start: fullscreen api fallback */
			html.fullscreen {
				background: black;
			}
			html.fullscreen #player {
				position: fixed;
				top: 0;
				left: 0;
				/* important to override jwplayer styling */
				width: 100% !important;
				height: 100% !important;
			}
			/* end: fullscreen api fallback */</style><script>function init() {
			// jw_init will instantiate a JW instance that can be refered to
			// by calling window.player
			var videoSource = 'https://eu-dev.stream.easelive.tv/fotball/ngrp:Stream1_all/playlist.m3u8';
			window.label.innerHTML = videoSource;

			window.player = jw_init(videoSource);

			var easeLive = new EaseLive({
				url: 'https://cdn.assets.easelive.tv/b46a/websdkdemo/index.html',
				// Use JwPlayer plugin to read timecodes
				playerPlugin: [
					JwPlayerPlugin,
					{
						player: window.player
					}
				]
			});

			easeLive.init();

			easeLive.on('bridge.ready', function() {
				console.log('bridge is ready')
			});

			easeLive.on('player.time', function(e) {
				e.formatted = new Date(e.timecode)
				window.output.innerHTML = JSON.stringify(e)
			});

			easeLive.on('*.error', function(e) {
				window.error.innerHTML = JSON.stringify(e)
			});

			// To demonstrate events received from the web app (two-way communication),
			// we have added a "Click me" button to the example web app which emits
			// an 'app.click' event (implemented by running `app.bridge.send('app.click');` in the component).
			// Here we are attaching a listener to this event, to count the number of clicks.
			let clickCount = 0;
			function updateButtonUi() {
				document.querySelector('#buttonContainer h1').innerHTML = 'The button has been clicked ' + clickCount + ' times';
			}
			updateButtonUi();
			easeLive.on('app.click', function() {
				clickCount += 1;
				updateButtonUi();
			});

			fsApiFallback()
		}

		function fsApiFallback() {
			// test if fullscreen api is supported
			var fsSupport = [
				'fullscreenElement',
				'webkitFullscreenElement',
				'mozFullScreenElement'
			].some(function(val) {
				return val in document;
			});

			if (!fsSupport) {
				// add fullscreen api fallback
				jwplayer().setFullscreen = (function() {
					var isFakeFullscreen = false;

					return function() {
						isFakeFullscreen = !isFakeFullscreen;
						if (isFakeFullscreen) {
							document.documentElement.classList.add('fullscreen');
						} else {
							document.documentElement.classList.remove('fullscreen');
						}
					};
				})();
			}
		}</script><div id="source"><h1>JW Player: HLS with Fullscreen fallback</h1>Video source: <span id="label"></span></div><div id="logging">Logging output: <span id="output"></span> <span id="error"></span></div><div id="buttonContainer"><h1></h1></div><div id="playerContainerJw"><div id="player"></div></div><p>Demonstrates how to simulate fullscreen using CSS for browsers/devices where the HTML5 Fullscreen API is not available (e.g. iOS).</p><div id="back"><a href="../index.html">Back to examples</a></div></body></html>