!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("BitMovinPlugin",[],t):"object"==typeof exports?exports.BitMovinPlugin=t():e.BitMovinPlugin=t()}(self,(function(){return(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return"hls"===e.getStreamType()}function o(e,t){console.log("Installing BitMovin player plugin...");var o,a=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({onError:function(t){e.emit("player.error",{message:t})}},t.bitmovin),l=t.player,u=t.playerContainerId;if(l||"undefined"!=typeof bitmovin)return l?f():(l=bitmovin.player(u)).setup(a).then((function(){f()}),(function(t){e.emit("player.error",{type:"fatal",message:t})})),l.addEventHandler("onTimeChanged",(function(t){i(l)&&(t.time=1e3*t.time+o),isNaN(t.time)||(isNaN(new Date(1e3*t.time).getTime())?e.emit("player.error",{type:"warning",message:"Cannot parse timestamp format from video"}):e.emit("player.time",{timecode:Math.ceil(1e3*t.time)}))})),l.addEventHandler("onSegmentPlayback",(function(e){i(l)&&void 0===o&&(o=new Date(e.dateTime).getTime())})),l.addEventHandler("onPlay",(function(){return d("playing")})),l.addEventHandler("onPaused",(function(){return d("paused")})),l.addEventHandler("onStallStarted",(function(){return d("buffering")})),l.addEventHandler("onStallEnded",(function(){return d("playing")})),l.addEventHandler("onTimeShift",(function(){return d("seeking")})),l.addEventHandler("onTimeShifted",(function(){return d("playing")})),l;function f(){e.emit("player.ready",{player:l,playerContainer:l.getFigure()})}function d(t){e.emit("player.state",{state:t})}e.emit("player.error",{type:"fatal",message:"bitmovin undefined"})}return e.d(t,{default:()=>o}),t=t.default})()}));